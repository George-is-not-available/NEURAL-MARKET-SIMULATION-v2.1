# 🗺️ AI 市场模拟地图访问指南

## 📍 访问地址

### 1. 简单地图页面（基于高德地图API）
- **URL**: `http://localhost:3000/simple-map.html`
- **功能**: 显示AI在真实地图上的位置和建筑物
- **特点**: 原生HTML页面，直接使用高德地图API

### 2. 完整React应用
- **URL**: `http://localhost:3000`
- **功能**: 完整的AI市场模拟游戏界面
- **特点**: React应用，包含多个页面和组件

## 🏢 建筑物系统

### 已配置的建筑物：
1. **中央银行** - 金融服务
   - 位置: [116.397428, 39.90923]
   - 活动: 大额转账、贷款申请、投资咨询、外汇交易、风险评估

2. **商务办公楼** - 商务活动
   - 位置: [116.405285, 39.904989]
   - 活动: 数据分析、商务会议、策略制定、报告撰写、团队协作

3. **国际酒店** - 社交商务
   - 位置: [116.395645, 39.913423]
   - 活动: 商务洽谈、网络会议、休息调整、社交活动、私人会面

4. **购物中心** - 市场调研
   - 位置: [116.400000, 39.900000]
   - 活动: 市场调研、消费观察、趋势分析、购物体验、消费者访谈

5. **证券交易所** - 金融交易
   - 位置: [116.410000, 39.920000]
   - 活动: 股票交易、期货交易、市场监控、风险评估、投资决策

6. **科技园区** - 创新研发
   - 位置: [116.385000, 39.915000]
   - 活动: 技术研发、产品测试、创新workshop、技术交流、项目孵化

## 🤖 AI 代理系统

### 当前AI代理：
- **Alex Chen (交易员)** - trader-001
- **Sarah Kim (分析师)** - analyst-002
- **David Wang (策略师)** - strategist-003
- **Emily Zhang (观察员)** - observer-004

### AI活动规则：
1. **进入建筑物**: AI必须先进入建筑物才能进行活动
2. **活动限制**: 每个建筑物只支持特定类型的活动
3. **容量限制**: 每个建筑物有最大容量限制
4. **自动活动**: 系统会自动为AI分配活动

## 🔧 API 端点

### 建筑物管理
- `GET /api/buildings` - 获取所有建筑物
- `GET /api/buildings/:id` - 获取特定建筑物
- `POST /api/buildings/:buildingId/enter/:aiId` - AI进入建筑物
- `POST /api/buildings/:buildingId/leave/:aiId` - AI离开建筑物
- `POST /api/buildings/:buildingId/activity` - 开始活动

### AI管理
- `GET /api/ai/:aiId/location` - 获取AI当前位置
- `GET /api/ai/:aiId/activities` - 获取AI活动历史

### 统计信息
- `GET /api/statistics` - 获取系统统计信息
- `GET /api/health` - 健康检查

## 🎮 地图控制功能

### 控制面板：
- **开始模拟**: 启动AI活动模拟
- **暂停**: 暂停模拟
- **重置**: 重置所有AI状态
- **查看活动**: 聚焦到正在进行活动的AI
- **切换标签**: 显示/隐藏建筑物标签

### 地图交互：
- **点击建筑物**: 查看建筑物详情和当前AI
- **点击AI**: 查看AI详细信息和当前活动
- **缩放**: 鼠标滚轮缩放地图
- **拖拽**: 拖拽地图查看不同区域

## 📊 实时数据

### Socket.IO事件：
- `aiEnterBuilding` - AI进入建筑物
- `aiLeaveBuilding` - AI离开建筑物
- `aiStartActivity` - AI开始活动
- `aiCompleteActivity` - AI完成活动
- `aiStartMovement` - AI开始移动
- `aiArriveBuilding` - AI到达建筑物

### 数据更新：
- 建筑物数据从服务器实时加载
- AI活动状态实时更新
- 统计信息每5秒更新一次

## 🚀 开始使用

1. **确保服务运行**:
   - 前端: `http://localhost:3000`
   - 后端: `http://localhost:3002`

2. **访问地图**:
   - 打开浏览器访问 `http://localhost:3000/simple-map.html`

3. **开始模拟**:
   - 点击"开始模拟"按钮
   - 观察AI在地图上的移动和活动

4. **交互操作**:
   - 点击建筑物查看详情
   - 点击AI查看状态
   - 使用控制面板管理模拟

## 📈 监控面板

### 实时信息显示：
- **AI状态面板**: 显示所有AI的当前状态、位置和活动
- **建筑物信息**: 显示当前选中建筑物的详细信息
- **控制面板**: 提供模拟控制和视图切换功能

### 数据统计：
- 建筑物总数: 6个
- 当前AI总数: 4个
- 活动AI数量: 实时更新
- 建筑物利用率: 动态计算

## 🔍 故障排除

### 常见问题：
1. **地图不显示**: 检查高德地图API Key是否正确
2. **AI不移动**: 确认后端服务正在运行
3. **建筑物数据不加载**: 检查Socket.IO连接
4. **活动不更新**: 查看浏览器控制台错误信息

### 解决方案：
- 检查服务器连接状态
- 确认API Key配置正确
- 查看控制台错误日志
- 重新启动服务器

---

🎯 **现在您可以访问 `http://localhost:3000/simple-map.html` 查看AI在真实地图上的位置和活动！**